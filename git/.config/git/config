[user]
    name = Nick
    email = speedyleion@users.noreply.github.com
[core]
    editor = nvim
    pager = less -FRX
[alias]
    ; Keep the NSA message out, it can be a bit concerning if it lands in some
    ; repos
    wip = !git commit -am \"$(curl -s https://whatthecommit.com/index.txt | grep -v NSA)\" -e

    st = status
    lg = log --oneline --graph
    lga = log --oneline --graph --all
    lgm = log --oneline --graph HEAD origin/main
    ; diff current branch back to where it split from main
    diffb = !git difftool $(git merge-base origin/main HEAD)
    cane = commit --amend --no-edit
    sup = submodule update --init --recursive
    ; Remve review branchs
    clnr = ! git --no-pager branch --list | rg -v '^\\*|^\\s*main|^\\s*nick|^\\s*release' | xargs git branch -D
    ; Squash against the upstream (origin)
    sqo = !git rebase -i origin/`git branch --show-current`
    ; Diff against the upstream (origin)
    diffo = !git difftool origin/`git branch --show-current`

    ; Git town stuff
    ls = town branch
    ; Diff to parent
    diffp = !git difftool `git merge-base $(git town config get-parent) HEAD`
    ; Squash onto parent
    squash = !git rebase -i "$(git town config get-parent)"
    ; Submit or create a PR
    s = !git town feature && gh pr create -B $(git town config get-parent) -f
    go = town switch
    sync = town sync --no-push --detached
    restack = !git rebase -i `git town config get-parent` --update-refs
    ; create branch
    cb = town append --detached
[init]
    defaultBranch = main
[pull]
    ff = only
[push]
    default = upstream
[diff]
    tool = bc
[merge]
    tool = bc
[difftool]
    prompt = false
[difftool.difftastic]
    cmd = /opt/homebrew/bin/difft --color=always "$LOCAL" $REMOTE
[difftool.nvim]
    cmd = nvim -d $LOCAL $REMOTE
[mergetool]
    prompt = false
    keepBackup = false
[commit]
    gpgSign = true
[git-town]
	auto-sync = false
	detached = false
	new-branch-type = prototype
	github-connector = gh
	main-branch = main
	unknown-branch-type = observed
	order = asc
	push-branches = false
	push-hook = true
	share-new-branches = no
	ship-strategy = squash-merge
	ship-delete-tracking-branch = false
	stash = false
	sync-feature-strategy = rebase
	sync-perennial-strategy = ff-only
	sync-prototype-strategy = rebase
	sync-upstream = true
	sync-tags = true
[include]
    path = ~/.local/.gitconfig
[includeIf "gitdir:~/work-git/"]
    path = ~/work-git/.gitconfig
